<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OLinq (olinq.OLinq)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">olinq</a> &#x00BB; OLinq</nav><h1>Module <code>OLinq</code></h1><h2 id="linq-like-operations-on-collections"><a href="#linq-like-operations-on-collections" class="anchor"></a>LINQ-like operations on collections</h2><p>The purpose is to provide powerful combinators to express iteration, transformation and combination of collections of items.</p><p>Functions and operations are assumed to be referentially transparent, i.e. they should not rely on external side effects, they should not rely on the order of execution.</p><pre><code class="ml">OLinq.(
  of_list [1;2;3]
  |&gt; flat_map (fun x -&gt; (x -- (x+10)))
  |&gt; count ()
  |&gt; sort ()
  |&gt; run_list
);;

- : (int * int) list = [(1, 1); (2, 2); (3, 3); (4, 3); (5, 3); (6, 3);
                        (7, 3); (8, 3); (9, 3); (10, 3); (11, 3); (12, 2); (13, 1)]

  OLinq.(
    IO.read_file &quot;/tmp/foo&quot;
    |&gt; IO.lines
    |&gt; sort ()
    |&gt; IO.to_file_lines &quot;/tmp/bar&quot;
  );;
- :  `Ok ()</code></pre><pre><code class="ml">OLinq.(
  1 -- 20
  |&gt; group_by (fun x -&gt; x mod 3)
  |&gt; run_list
) ;;
- : (int * int list) list =
[(2, [20; 17; 14; 11; 8; 5; 2]);
 (0, [18; 15; 12; 9; 6; 3; 0]);
 (1, [19; 16; 13; 10; 7; 4; 1])]</code></pre><nav class="toc"><ul><li><a href="#polymorphic-maps">Polymorphic Maps</a></li><li><a href="#main-type">Main Type</a></li><li><a href="#initial-values">Initial values</a><ul><li><a href="#execution">Execution</a></li><li><a href="#basics">Basics</a></li><li><a href="#aggregation">Aggregation</a></li><li><a href="#binary-operators">Binary Operators</a></li><li><a href="#tuple-and-options">Tuple and Options</a></li><li><a href="#applicative">Applicative</a></li><li><a href="#monad">Monad</a></li><li><a href="#misc">Misc</a></li><li><a href="#infix">Infix</a></li><li><a href="#adapters">Adapters</a></li></ul></li></ul></nav></header><dl><dt class="spec type" id="type-iter"><a href="#type-iter" class="anchor"></a><code><span class="keyword">type</span> <span>'a iter</span></code><code> = <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec type" id="type-equal"><a href="#type-equal" class="anchor"></a><code><span class="keyword">type</span> <span>'a equal</span></code><code> = <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec type" id="type-ord"><a href="#type-ord" class="anchor"></a><code><span class="keyword">type</span> <span>'a ord</span></code><code> = <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int</code></dt><dt class="spec type" id="type-hash"><a href="#type-hash" class="anchor"></a><code><span class="keyword">type</span> <span>'a hash</span></code><code> = <span class="type-var">'a</span> <span>&#45;&gt;</span> int</code></dt><dt class="spec type" id="type-or_error"><a href="#type-or_error" class="anchor"></a><code><span class="keyword">type</span> <span>'a or_error</span></code> = <code>[ </code><table class="variant"><tr id="type-or_error.Ok" class="anchored"><td class="def constructor"><a href="#type-or_error.Ok" class="anchor"></a><code>| </code><code>`Ok <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-or_error.Error" class="anchored"><td class="def constructor"><a href="#type-or_error.Error" class="anchor"></a><code>| </code><code>`Error <span class="keyword">of</span> string</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-printer"><a href="#type-printer" class="anchor"></a><code><span class="keyword">type</span> <span>'a printer</span></code><code> = Stdlib.Format.formatter <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Iterable"><a href="#module-Iterable" class="anchor"></a><code><span class="keyword">module</span> <a href="Iterable/index.html">Iterable</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><section><header><h3 id="polymorphic-maps"><a href="#polymorphic-maps" class="anchor"></a>Polymorphic Maps</h3></header><dl><dt class="spec type" id="type-map"><a href="#type-map" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) map</span></code><code> = <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../OLinq_map/index.html#type-t">OLinq_map.t</a></span></code></dt></dl></section><section><header><h3 id="main-type"><a href="#main-type" class="anchor"></a>Main Type</h3></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>('a, +'card) t</span></code><code> <span class="keyword">constraint</span> <span class="type-var">'card</span> = <span>[&lt; `One <span>| `AtMostOne</span> <span>| `Any</span> ]</span></code></dt><dd><p>Type of a query that returns zero, one or more values of type <code>'a</code>. The parameter <code>'card</code> indicates how many elements are in the collection, with <code>`Any</code> indicating the number is unknown, <code>`AtMostOne</code> that there are 0 or 1 elements and <code>`One</code> exactly one.</p><p>To simplify, this is very similar to a type <code>'a t</code> that would behave like a collection of <code>'a</code>. The ghost parameter <code>'card</code> is only useful to restrict the kind of operations one can perform on these collections. For example , a value of type <code>('a, [`One]) t</code> contains exactly one element so we can access it safely.</p><p>Conceptually, the cardinalities are ordered from most precise (`One) to least precise (`Any): <code>`One &lt; `AtMostOne &lt; `Any</code>.</p></dd></dl><dl><dt class="spec type" id="type-t_any"><a href="#type-t_any" class="anchor"></a><code><span class="keyword">type</span> <span>'a t_any</span></code><code> = <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec type" id="type-t_one"><a href="#type-t_one" class="anchor"></a><code><span class="keyword">type</span> <span>'a t_one</span></code><code> = <span><span>(<span class="type-var">'a</span>, <span>[ `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec type" id="type-t_at_most_one"><a href="#type-t_at_most_one" class="anchor"></a><code><span class="keyword">type</span> <span>'a t_at_most_one</span></code><code> = <span><span>(<span class="type-var">'a</span>, <span>[ `AtMostOne ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt></dl></section><section><header><h3 id="initial-values"><a href="#initial-values" class="anchor"></a>Initial values</h3></header><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <span><span>(<span class="type-var">'a</span>, <span>[&gt; `AtMostOne ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Empty collection</p></dd></dl><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Return one value</p></dd></dl><dl><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val</span> of_list : <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Query that just returns the elements of the list</p></dd></dl><dl><dt class="spec value" id="val-of_array"><a href="#val-of_array" class="anchor"></a><code><span class="keyword">val</span> of_array : <span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-of_array_i"><a href="#val-of_array_i" class="anchor"></a><code><span class="keyword">val</span> of_array_i : <span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span> <span><span>(int * <span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-range"><a href="#val-range" class="anchor"></a><code><span class="keyword">val</span> range : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(int, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>range i j</code> goes from <code>i</code> up to <code>j</code> included</p></dd></dl><dl><dt class="spec value" id="val-(--)"><a href="#val-(--)" class="anchor"></a><code><span class="keyword">val</span> (--) : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(int, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Synonym to <a href="index.html#val-range"><code>range</code></a></p></dd></dl><dl><dt class="spec value" id="val-of_hashtbl"><a href="#val-of_hashtbl" class="anchor"></a><code><span class="keyword">val</span> of_hashtbl : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> Stdlib.Hashtbl.t</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-of_iter"><a href="#val-of_iter" class="anchor"></a><code><span class="keyword">val</span> of_iter : <span><span class="type-var">'a</span> <a href="index.html#type-iter">iter</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Query that returns the elements of the given sequence.</p></dd></dl><dl><dt class="spec value" id="val-of_vec"><a href="#val-of_vec" class="anchor"></a><code><span class="keyword">val</span> of_vec : <span><span class="type-var">'a</span> <a href="../OLinq_vec/index.html#type-t">OLinq_vec.t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-of_queue"><a href="#val-of_queue" class="anchor"></a><code><span class="keyword">val</span> of_queue : <span><span class="type-var">'a</span> Stdlib.Queue.t</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-of_stack"><a href="#val-of_stack" class="anchor"></a><code><span class="keyword">val</span> of_stack : <span><span class="type-var">'a</span> Stdlib.Stack.t</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-of_string"><a href="#val-of_string" class="anchor"></a><code><span class="keyword">val</span> of_string : string <span>&#45;&gt;</span> <span><span>(char, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Traverse the characters of the string</p></dd></dl><dl><dt class="spec value" id="val-of_map"><a href="#val-of_map" class="anchor"></a><code><span class="keyword">val</span> of_map : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-map">map</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>of_map m</code> yields each binding of <code>m</code></p></dd></dl><dl><dt class="spec value" id="val-of_multimap"><a href="#val-of_multimap" class="anchor"></a><code><span class="keyword">val</span> of_multimap : <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>)</span> <a href="index.html#type-map">map</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>of_multimap m</code> yields each single binding of <code>m</code></p></dd></dl><section><header><h5 id="execution"><a href="#execution" class="anchor"></a>Execution</h5></header><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <span>?&#8288;limit:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Iterable/index.html#type-t">Iterable.t</a></span></code></dt><dd><p>Execute the query, possibly returning an error if things go wrong</p><dl><dt>parameter limit</dt><dd><p>max number of values to return</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-run_list"><a href="#val-run_list" class="anchor"></a><code><span class="keyword">val</span> run_list : <span>?&#8288;limit:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dt class="spec value" id="val-run_array"><a href="#val-run_array" class="anchor"></a><code><span class="keyword">val</span> run_array : <span>?&#8288;limit:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span></code></dt><dt class="spec value" id="val-run_vec"><a href="#val-run_vec" class="anchor"></a><code><span class="keyword">val</span> run_vec : <span>?&#8288;limit:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../OLinq_vec/index.html#type-t">OLinq_vec.t</a></span></code></dt><dt class="spec value" id="val-run1"><a href="#val-run1" class="anchor"></a><code><span class="keyword">val</span> run1 : <span><span>(<span class="type-var">'a</span>, <span>[ `One ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Run the query and return the only value</p></dd></dl><dl><dt class="spec value" id="val-run_head"><a href="#val-run_head" class="anchor"></a><code><span class="keyword">val</span> run_head : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p>Return first result</p></dd></dl><dl><dt class="spec value" id="val-run1_exn"><a href="#val-run1_exn" class="anchor"></a><code><span class="keyword">val</span> run1_exn : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>unsafe shortcut for <a href="index.html#val-run_head"><code>run_head</code></a>.</p><dl><dt>raises Not_found</dt><dd><p>if the query contains 0 element</p></dd></dl></dd></dl></section><section><header><h5 id="basics"><a href="#basics" class="anchor"></a>Basics</h5></header><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Map each value</p></dd></dl><dl><dt class="spec value" id="val-(&gt;|=)"><a href="#val-(&gt;|=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;|=) : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Infix synonym of <a href="index.html#type-map"><code>map</code></a></p></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val</span> filter : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Filter out values that do not satisfy predicate. We lose precision on the cardinality because of type system constraints.</p></dd></dl><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(int, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>size t</code> returns one value, the number of items returned by <code>t</code></p></dd></dl><dl><dt class="spec value" id="val-choose"><a href="#val-choose" class="anchor"></a><code><span class="keyword">val</span> choose : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[&gt; `AtMostOne ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Choose one element (if any, otherwise empty) in the collection. This is like a &quot;cut&quot; in prolog.</p></dd></dl><dl><dt class="spec value" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span class="keyword">val</span> filter_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> option</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Filter and map elements at once</p></dd></dl><dl><dt class="spec value" id="val-flat_map_seq"><a href="#val-flat_map_seq" class="anchor"></a><code><span class="keyword">val</span> flat_map_seq : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> Stdlib.Seq.t</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Same as <a href="index.html#val-flat_map"><code>flat_map</code></a> but using seq</p></dd></dl><dl><dt class="spec value" id="val-flat_map_iter"><a href="#val-flat_map_iter" class="anchor"></a><code><span class="keyword">val</span> flat_map_iter : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-iter">iter</a></span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Same as <a href="index.html#val-flat_map"><code>flat_map</code></a> but using iterators</p></dd></dl><dl><dt class="spec value" id="val-flat_map_l"><a href="#val-flat_map_l" class="anchor"></a><code><span class="keyword">val</span> flat_map_l : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> list</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>map each element to a collection and flatten the result</p></dd></dl><dl><dt class="spec value" id="val-flatten_list"><a href="#val-flatten_list" class="anchor"></a><code><span class="keyword">val</span> flatten_list : <span><span>(<span><span class="type-var">'a</span> list</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-flatten_seq"><a href="#val-flatten_seq" class="anchor"></a><code><span class="keyword">val</span> flatten_seq : <span><span>(<span><span class="type-var">'a</span> Stdlib.Seq.t</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-flatten_iter"><a href="#val-flatten_iter" class="anchor"></a><code><span class="keyword">val</span> flatten_iter : <span><span>(<span><span class="type-var">'a</span> <a href="index.html#type-iter">iter</a></span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-flatten_map"><a href="#val-flatten_map" class="anchor"></a><code><span class="keyword">val</span> flatten_map : <span><span>(<span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-map">map</a></span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-flatten_multimap"><a href="#val-flatten_multimap" class="anchor"></a><code><span class="keyword">val</span> flatten_multimap : <span><span>(<span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>)</span> <a href="index.html#type-map">map</a></span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-take"><a href="#val-take" class="anchor"></a><code><span class="keyword">val</span> take : int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Take at most <code>n</code> elements</p></dd></dl><dl><dt class="spec value" id="val-take1"><a href="#val-take1" class="anchor"></a><code><span class="keyword">val</span> take1 : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[&gt; `AtMostOne ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Specialized version of <a href="index.html#val-take"><code>take</code></a> that keeps only the first element</p></dd></dl><dl><dt class="spec value" id="val-take_while"><a href="#val-take_while" class="anchor"></a><code><span class="keyword">val</span> take_while : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Take elements while they satisfy a predicate</p></dd></dl><dl><dt class="spec value" id="val-sort"><a href="#val-sort" class="anchor"></a><code><span class="keyword">val</span> sort : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Sort items by the given comparison function. Only meaningful when there are potentially many elements</p></dd></dl><dl><dt class="spec value" id="val-sort_by"><a href="#val-sort_by" class="anchor"></a><code><span class="keyword">val</span> sort_by : <span>?&#8288;cmp:<span><span class="type-var">'b</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>sort_by proj c</code> sorts the collection <code>c</code> by projecting elements using <code>proj</code>, then using <code>cmp</code> to order them</p></dd></dl><dl><dt class="spec value" id="val-distinct"><a href="#val-distinct" class="anchor"></a><code><span class="keyword">val</span> distinct : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Remove duplicate elements from the input collection. All elements in the result are distinct.</p></dd></dl></section><section><header><h5 id="aggregation"><a href="#aggregation" class="anchor"></a>Aggregation</h5></header><dl><dt class="spec value" id="val-group_by"><a href="#val-group_by" class="anchor"></a><code><span class="keyword">val</span> group_by : <span>?&#8288;cmp:<span><span class="type-var">'b</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'b</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'b</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span> * <span><span class="type-var">'a</span> list</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>group_by f</code> takes a collection <code>c</code> as input, and returns a collection of pairs <code>k, l</code> where every element <code>x</code> of <code>l</code> satifies <code>f x = k</code>. In other words, elements of the collection that have the same image by <code>f</code> are grouped in the same list.</p></dd></dl><dl><dt class="spec value" id="val-group_by_reflect"><a href="#val-group_by_reflect" class="anchor"></a><code><span class="keyword">val</span> group_by_reflect : <span>?&#8288;cmp:<span><span class="type-var">'b</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'b</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'b</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span>(<span class="type-var">'b</span>, <span><span class="type-var">'a</span> list</span>)</span> <a href="index.html#type-map">map</a></span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>group_by_reflect f</code> takes a collection <code>c</code> as input, and returns a multimap <code>m</code> such that for each <code>x</code> in <code>c</code>, <code>x</code> occurs in <code>m</code> under the key <code>f x</code>. In other words, <code>f</code> is used to obtain a key from <code>x</code>, and <code>x</code> is added to the multimap using this key.</p></dd></dl><dl><dt class="spec value" id="val-count"><a href="#val-count" class="anchor"></a><code><span class="keyword">val</span> count : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * int, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>count c</code> counts how many times each element of the collection occur, and returns pairs of <code>x, count(x)</code></p></dd></dl><dl><dt class="spec value" id="val-count_reflect"><a href="#val-count_reflect" class="anchor"></a><code><span class="keyword">val</span> count_reflect : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span>(<span class="type-var">'a</span>, int)</span> <a href="index.html#type-map">map</a></span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>count_reflect c</code> returns a map from elements of <code>c</code> to the number of time those elements occur.</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Fold over the collection</p></dd></dl><dl><dt class="spec value" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span class="keyword">val</span> is_empty : <span><span>(<span class="type-var">'a</span>, <span>[&lt; `AtMostOne <span>| `Any</span> ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(bool, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span class="keyword">val</span> sum : <span><span>(int, <span>[&lt; `AtMostOne <span>| `Any</span> ]</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(int, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-contains"><a href="#val-contains" class="anchor"></a><code><span class="keyword">val</span> contains : <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(bool, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>contains x q</code> returns <code>true</code> if <code>x</code> is among the elements returned by <code>q</code>. Careful, this runs <code>q</code> and might be slow!</p></dd></dl><dl><dt class="spec value" id="val-average"><a href="#val-average" class="anchor"></a><code><span class="keyword">val</span> average : <span><span>(int, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(int, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-max"><a href="#val-max" class="anchor"></a><code><span class="keyword">val</span> max : <span><span>(int, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(int, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-min"><a href="#val-min" class="anchor"></a><code><span class="keyword">val</span> min : <span><span>(int, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(int, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-for_all"><a href="#val-for_all" class="anchor"></a><code><span class="keyword">val</span> for_all : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(bool, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val</span> exists : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(bool, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> option</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-find_map"><a href="#val-find_map" class="anchor"></a><code><span class="keyword">val</span> find_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> option</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'b</span> option</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt></dl></section><section><header><h5 id="binary-operators"><a href="#binary-operators" class="anchor"></a>Binary Operators</h5></header><dl><dt class="spec value" id="val-join"><a href="#val-join" class="anchor"></a><code><span class="keyword">val</span> join : <span>?&#8288;cmp:<span><span class="type-var">'key</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'key</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'key</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'key</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'key</span>)</span> <span>&#45;&gt;</span> <span>merge:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> option</span>)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>join key1 key2 ~merge</code> is a binary operation that takes two collections <code>a</code> and <code>b</code>, projects their elements resp. with <code>key1</code> and <code>key2</code>, and combine values <code>(x,y)</code> from <code>(a,b)</code> with the same <code>key</code> using <code>merge</code>. If <code>merge</code> returns <code>None</code>, the combination of values is discarded.</p></dd></dl><dl><dt class="spec value" id="val-outer_join"><a href="#val-outer_join" class="anchor"></a><code><span class="keyword">val</span> outer_join : <span>?&#8288;cmp:<span><span class="type-var">'key</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'key</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'key</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'key</span>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'key</span>)</span> <span>&#45;&gt;</span> <span>merge:<span>(<span class="type-var">'key</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> option</span>)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>outer_join key1 key2 ~merge</code> is a binary operation that takes two collections <code>a</code> and <code>b</code>, projects their elements resp. with <code>key1</code> and <code>key2</code>, and, for each key <code>k</code> occurring in at least one of them:</p><ul><li>compute the list <code>l1</code> of elements of <code>a</code> that map to <code>k</code></li><li>compute the list <code>l2</code> of elements of <code>b</code> that map to <code>k</code></li><li>call <code>merge k l1 l2</code>. If <code>merge</code> returns <code>None</code>, the combination of values is discarded, otherwise it returns <code>Some c</code> and <code>c</code> is inserted in the result.</li></ul><dl><dt>since</dt><dd>0.2</dd></dl></dd></dl><dl><dt class="spec value" id="val-group_join"><a href="#val-group_join" class="anchor"></a><code><span class="keyword">val</span> group_join : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'b</span> list</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>group_join key2</code> associates to every element <code>x</code> of the first collection, all the elements <code>y</code> of the second collection such that <code>eq x (key y)</code>. Elements of the first collections without corresponding values in the second one are mapped to <code>[]</code></p></dd></dl><dl><dt class="spec value" id="val-group_join_reflect"><a href="#val-group_join_reflect" class="anchor"></a><code><span class="keyword">val</span> group_join_reflect : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>)</span> <a href="index.html#type-map">map</a></span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Same as <a href="index.html#val-group_join"><code>group_join</code></a>, but reflects the groups as a multimap</p></dd></dl><dl><dt class="spec value" id="val-product"><a href="#val-product" class="anchor"></a><code><span class="keyword">val</span> product : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Cartesian product</p></dd></dl><dl><dt class="spec value" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">val</span> append : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Append two collections together</p></dd></dl><dl><dt class="spec value" id="val-inter"><a href="#val-inter" class="anchor"></a><code><span class="keyword">val</span> inter : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Intersection of two collections. Each element will occur at most once in the result</p></dd></dl><dl><dt class="spec value" id="val-union"><a href="#val-union" class="anchor"></a><code><span class="keyword">val</span> union : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Union of two collections. Each element will occur at most once in the result</p></dd></dl><dl><dt class="spec value" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span class="keyword">val</span> diff : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Set difference</p></dd></dl><dl><dt class="spec value" id="val-subset"><a href="#val-subset" class="anchor"></a><code><span class="keyword">val</span> subset : <span>?&#8288;cmp:<span><span class="type-var">'a</span> <a href="index.html#type-ord">ord</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;eq:<span><span class="type-var">'a</span> <a href="index.html#type-equal">equal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;hash:<span><span class="type-var">'a</span> <a href="index.html#type-hash">hash</a></span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(bool, <span>[ `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>subset () a b</code> returns <code>true</code> if all elements of <code>a</code> belong to <code>b</code></p></dd></dl></section><section><header><h5 id="tuple-and-options"><a href="#tuple-and-options" class="anchor"></a>Tuple and Options</h5></header><aside><p>Specialized projection operators</p></aside><dl><dt class="spec value" id="val-map_fst"><a href="#val-map_fst" class="anchor"></a><code><span class="keyword">val</span> map_fst : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'c</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span> * <span class="type-var">'c</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-map_snd"><a href="#val-map_snd" class="anchor"></a><code><span class="keyword">val</span> map_snd : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span> * <span class="type-var">'a</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'c</span> * <span class="type-var">'b</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-flatten_opt"><a href="#val-flatten_opt" class="anchor"></a><code><span class="keyword">val</span> flatten_opt : <span><span>(<span><span class="type-var">'a</span> option</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Flatten the collection by removing <code>None</code> and mapping <code>Some x</code> to <code>x</code>.</p></dd></dl></section><section><header><h5 id="applicative"><a href="#applicative" class="anchor"></a>Applicative</h5></header><dl><dt class="spec value" id="val-pure"><a href="#val-pure" class="anchor"></a><code><span class="keyword">val</span> pure : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Synonym to <a href="index.html#val-return"><code>return</code></a></p></dd></dl><dl><dt class="spec value" id="val-app"><a href="#val-app" class="anchor"></a><code><span class="keyword">val</span> app : <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Apply each function to each value. The cardinality should be the lowest upper bound of both input cardinalities (any,_) -&gt; any, (one,one) -&gt; one, etc.</p></dd></dl><dl><dt class="spec value" id="val-(&lt;*&gt;)"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;*&gt;) : <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Infix synonym to <a href="index.html#val-app"><code>app</code></a></p></dd></dl></section><section><header><h5 id="monad"><a href="#monad" class="anchor"></a>Monad</h5><p>Careful, those operators do not allow any optimization before running the query, they might therefore be pretty slow.</p></header><dl><dt class="spec value" id="val-flat_map"><a href="#val-flat_map" class="anchor"></a><code><span class="keyword">val</span> flat_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Use the result of a query to build another query and immediately run it.</p></dd></dl><dl><dt class="spec value" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;&gt;=) : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span>[ `Any ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Infix version of <a href="index.html#val-flat_map"><code>flat_map</code></a></p></dd></dl></section><section><header><h5 id="misc"><a href="#misc" class="anchor"></a>Misc</h5></header><dl><dt class="spec value" id="val-lazy_"><a href="#val-lazy_" class="anchor"></a><code><span class="keyword">val</span> lazy_ : <span><span>(<span><span class="type-var">'a</span> lazy_t</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt></dl><dl><dt class="spec exception" id="exception-UnwrapNone"><a href="#exception-UnwrapNone" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">UnwrapNone</span></code></dt></dl><dl><dt class="spec value" id="val-opt_unwrap_exn"><a href="#val-opt_unwrap_exn" class="anchor"></a><code><span class="keyword">val</span> opt_unwrap_exn : <span><span>(<span><span class="type-var">'a</span> option</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'card</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><dl><dt>raises UnwrapNone</dt><dd><p>if some option is None</p></dd></dl></dd></dl></section><section><header><h5 id="infix"><a href="#infix" class="anchor"></a>Infix</h5></header><div class="spec module" id="module-Infix"><a href="#module-Infix" class="anchor"></a><code><span class="keyword">module</span> <a href="Infix/index.html">Infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h5 id="adapters"><a href="#adapters" class="anchor"></a>Adapters</h5></header><dl><dt class="spec value" id="val-reflect_vec"><a href="#val-reflect_vec" class="anchor"></a><code><span class="keyword">val</span> reflect_vec : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="../OLinq_vec/index.html#type-t">OLinq_vec.t</a></span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>reflect_seq q</code> evaluates all values in <code>q</code> and returns a sequence of all those values. Also blocks optimizations</p></dd></dl><dl><dt class="spec value" id="val-reflect_list"><a href="#val-reflect_list" class="anchor"></a><code><span class="keyword">val</span> reflect_list : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> list</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>reflect_list q</code> evaluates all values in <code>q</code> and returns a list of all those values. Also blocks optimizations</p></dd></dl><dl><dt class="spec value" id="val-reflect_hashtbl"><a href="#val-reflect_hashtbl" class="anchor"></a><code><span class="keyword">val</span> reflect_hashtbl : <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> Stdlib.Hashtbl.t</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Build a hashtable from the collection</p></dd></dl><dl><dt class="spec value" id="val-reflect_queue"><a href="#val-reflect_queue" class="anchor"></a><code><span class="keyword">val</span> reflect_queue : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> Stdlib.Queue.t</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-reflect_stack"><a href="#val-reflect_stack" class="anchor"></a><code><span class="keyword">val</span> reflect_stack : <span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> Stdlib.Stack.t</span>, <span>[&gt; `One ]</span>)</span> <a href="index.html#type-t">t</a></span></code></dt></dl><div class="spec module" id="module-AdaptSet"><a href="#module-AdaptSet" class="anchor"></a><code><span class="keyword">module</span> <a href="AdaptSet/index.html">AdaptSet</a> : <span class="keyword">functor</span> (<a href="AdaptSet/index.html#argument-1-S">S</a> : Stdlib.Set.S) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-AdaptMap"><a href="#module-AdaptMap" class="anchor"></a><code><span class="keyword">module</span> <a href="AdaptMap/index.html">AdaptMap</a> : <span class="keyword">functor</span> (<a href="AdaptMap/index.html#argument-1-M">M</a> : Stdlib.Map.S) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-IO"><a href="#module-IO" class="anchor"></a><code><span class="keyword">module</span> <a href="IO/index.html">IO</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val</span> print : <span>?&#8288;sep:string</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-printer">printer</a></span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="index.html#type-t">t</a></span> <a href="index.html#type-printer">printer</a></span></code></dt><dd><p>Evaluate the sequence of elements and print them</p><dl><dt>since</dt><dd>0.2</dd></dl></dd></dl></section></section></div></body></html>